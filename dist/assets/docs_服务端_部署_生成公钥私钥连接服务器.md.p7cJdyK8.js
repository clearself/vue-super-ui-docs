import{aF as s,e as i,f as a,V as n}from"./chunks/framework.54wzUQT-.js";const l="/vue-super-ui/assets/1.rnRPBcg3.png",y=JSON.parse('{"title":"生成公钥私钥 xshell 连接服务器（可共用）","description":"","frontmatter":{},"headers":[],"relativePath":"docs/服务端/部署/生成公钥私钥连接服务器.md","filePath":"docs/服务端/部署/生成公钥私钥连接服务器.md","lastUpdated":1716277301000}'),e={name:"docs/服务端/部署/生成公钥私钥连接服务器.md"},h=n(`<h1 id="生成公钥私钥-xshell-连接服务器-可共用" tabindex="-1">生成公钥私钥 xshell 连接服务器（可共用） <a class="header-anchor" href="#生成公钥私钥-xshell-连接服务器-可共用" aria-label="Permalink to &quot;生成公钥私钥 xshell 连接服务器（可共用）&quot;">​</a></h1><h2 id="实现方式" tabindex="-1">实现方式 <a class="header-anchor" href="#实现方式" aria-label="Permalink to &quot;实现方式&quot;">​</a></h2><ul><li>需要下载<code>xshell</code></li></ul><ol><li>生成密钥（公钥和私钥）</li><li>放置公钥（Public Key）到服务器<code>~/.ssh/authorized_key</code>文件中</li><li>拷贝私钥（Private Key）自己妥善保存，用于认证，如果其他服务器也要用私钥连接，你需要把公钥复制到目标服务器上重复步骤2</li><li>配置使用ssh客户端xshell使用密钥进行连接</li></ol><h2 id="生成秘钥-公钥与私钥" tabindex="-1">生成秘钥（公钥与私钥） <a class="header-anchor" href="#生成秘钥-公钥与私钥" aria-label="Permalink to &quot;生成秘钥（公钥与私钥）&quot;">​</a></h2><ul><li>运行<code>ssh-keygen -t rsa -P &#39;&#39;</code>生成公钥与私钥，生成的<code>id_rsa</code>为私钥，<code>id_rsa.pub</code>为公钥</li><li>使用<code>cat id_rsa</code>查看公钥与私钥的文件内容，保存下来，后续<code>id_rsa.pub</code>作为连接服务器使用，新服务器如果想要用同一个公钥连接，需要将<code>id_rsa</code>文件上传到相同的服务器目录</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#1. 生成公钥和私钥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@home:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$] ssh-keygen -t rsa -P </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#2. 弹出提示</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Generating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public/private rsa key pair.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#3. 选择存放key的文件的位置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file in which to save the key </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/.ssh/id_rsa</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#4. 提示输入生成公钥私钥使用的密码，可以默认，直接回车就行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passphrase </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">empty</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for no passphrase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Enter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> same passphrase again: </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#5. 显示公钥私钥生成的位置，不带.pub的是私钥，带.pub是公钥</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Your</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> identification has been saved in /home/.ssh/id_rsa.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Your</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public key has been saved in /home/.ssh/id_rsa.pub.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#6. 剩余的输出的信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key fingerprint is:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SHA256:bEnqIod+P9hUbwjAvTLJX8WClWIgPDnxFqxm/ZSSPTg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key&#39;s randomart image is:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+---[RSA 2048]----+</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">| .o=oo o.o       |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|  =o+.= o o      |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|   *oB +.o       |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|  +.E B+o.       |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">| o   O.=So       |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|   . .+.. o      |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|  o o+.  .       |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">| . oo.o          |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">|  .. ...         |</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+----[SHA256]-----+</span></span></code></pre></div><h2 id="服务器注册公钥" tabindex="-1">服务器注册公钥 <a class="header-anchor" href="#服务器注册公钥" aria-label="Permalink to &quot;服务器注册公钥&quot;">​</a></h2><p><code>id_rsa_2048.pub</code>改名为<code>authorized_keys</code>，服务器连接时的秘钥会读取该文件</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@home:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]$ cd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/.ssh/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将刚刚的公钥注册到authorized_keys中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@home .ssh]$ cat id_rsa_2048.pub </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> authorized_keys</span></span></code></pre></div><h2 id="xshell-连接" tabindex="-1">xshell 连接 <a class="header-anchor" href="#xshell-连接" aria-label="Permalink to &quot;xshell 连接&quot;">​</a></h2><p>在连接服务器的配置时选择<code>public key</code>连接，点击浏览-导入-选择保存下来的<code>id_rsa</code>文件即可</p><p><img src="`+l+'" alt="xshell配置私钥" loading="lazy"></p>',13),p=[h];function t(k,d,r,o,c,F){return i(),a("div",null,p)}const E=s(e,[["render",t]]);export{y as __pageData,E as default};
