import{E as B,t as C}from"./theme.gqej5HM7.js";import"./el-loading.w40geAFS.js";import"./el-button.w40geAFS.js";import{T}from"./Text.dT2Kgdrg.js";import{d as w,u as E,a as u,c as x,L as z,e as s,f as d,E as f,k as c,G as D,i as S,g as $,j,J as N,I as V,p as A,y as v,A as I,H as m,v as L,aF as F}from"./framework.54wzUQT-.js";const G={class:"min-h100","element-loading-background":"rgba(0, 0, 0, 0)"},H={class:"content"},J={key:0,class:"btn"},q=w({__name:"text",props:{api:{},justifyContent:{},showBtn:{type:Boolean,default:!0},position:{type:Boolean,default:!0},size:{default:"1.5rem"},format:{},btnText:{default:"换一句"}},emits:["getData"],setup(y,{emit:g}){const o=y,_=g,k=E(),a=u(!1),t=x(()=>{const e=o.format?o.format(l.value):l.value;return Array.isArray(e)?e:[e]}),n=u([]),l=u(""),p=async()=>{_("getData"),a.value=!0;try{const{data:e}=await o.api();l.value=e}finally{a.value=!1}};return p(),(e,K)=>{const h=B,b=C;return z((s(),d("div",G,[f("div",{class:I(["text",[e.position&&"position"]]),style:m({fontSize:e.size})},[c(e.$slots,"content-before",{data:t.value,key:t.value},void 0,!0),f("div",H,[(s(!0),d(D,null,S(t.value,(r,i)=>c(e.$slots,"default",{data:r,key:r},()=>[!i||n.value[i-1]?(s(),L(T,{key:0,class:"word",style:m({justifyContent:e.justifyContent}),text:r,once:"",onEnd:M=>n.value[i]=!0},null,8,["style","text","onEnd"])):v("",!0)],!0)),128))]),c(e.$slots,"content-after",{data:t.value,key:t.value},void 0,!0),e.showBtn&&t.value?(s(),d("div",J,[$(h,{type:"primary",size:"large",onClick:p,round:"",loading:a.value,disabled:!A(k).default&&!n.value[t.value.length-1]},{default:j(()=>[N(V(e.btnText),1)]),_:1},8,["loading","disabled"])])):v("",!0)],6)])),[[b,a.value]])}}}),W=F(q,[["__scopeId","data-v-2932f037"]]);export{W as T};
