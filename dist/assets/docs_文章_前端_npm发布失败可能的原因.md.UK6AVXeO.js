import{aF as s,e as i,f as a,V as p}from"./chunks/framework.54wzUQT-.js";const g=JSON.parse('{"title":"npm publish 403 发布失败可能的原因","description":"","frontmatter":{},"headers":[],"relativePath":"docs/文章/前端/npm发布失败可能的原因.md","filePath":"docs/文章/前端/npm发布失败可能的原因.md","lastUpdated":1716277301000}'),n={name:"docs/文章/前端/npm发布失败可能的原因.md"},e=p(`<h1 id="npm-publish-403-发布失败可能的原因" tabindex="-1">npm publish 403 发布失败可能的原因 <a class="header-anchor" href="#npm-publish-403-发布失败可能的原因" aria-label="Permalink to &quot;npm publish 403 发布失败可能的原因&quot;">​</a></h1><p>1、npm 权限的原因，解决方案：<code>npm publish --access=public</code>。</p><p>2、npm 源地址不对，解决方案：</p><ul><li><p><code>npm i -g nrm</code></p></li><li><p><code>nrm use npm</code> 切换为 npm 官方的地址再尝试。</p></li></ul><p>3、package 的 name 属性与项目文件夹名称一致时可能会导致发布失败，解决方案：更改文件夹名称。</p><p>4、npm 版本过低，解决方案：<code>npm i -g npm update</code>。</p><p>5、npmjs.org 官网可能存在同名的包，之前存在同名的包被删除后，24 小时之内不能重新发布。解决方案：打开链接<code>https://registry.npmjs.org/你的包名</code>查看返回的数据：</p><ul><li><p>如果 npm 存在这个包名或者这个包名被 npm 官方占用会返回一大串 json 数据，更改包名即可。</p></li><li><p>如果不存在这个包名会返回：<code>{&quot;error&quot;:&quot;Not found&quot;}</code>表示可以发布这个包名。</p></li><li><p>包名存在时错误信息：</p></li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>  npm ERR! code E403</span></span>
<span class="line"><span>  npm ERR! 403 403 Forbidden - PUT https://registry.npmjs.org/xxx - You do not have permission to publish &quot;xxx&quot;. Are you logged in as the correct user?</span></span>
<span class="line"><span>  npm ERR! 403 In most cases, you or one of your dependencies are requesting</span></span>
<span class="line"><span>  npm ERR! 403 a package version that is forbidden by your security policy.</span></span></code></pre></div><p>6、npm 账号注册后需要验证邮箱，没有验证会导致发布失败，解决方案：<code>npmjs.org</code>登录账号点击右上角头像 - 再点击 Profile 验证邮箱。错误信息：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! code E403</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Forbidden - PUT https://registry.npmjs.org/xxx-xxx-npm - Forbidden</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> In most cases, you or one of your dependencies are requesting</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a package version that is forbidden by your security policy.</span></span></code></pre></div><p>7、<code>version</code>版本不对，在已发布的包中直接发布相同的版本号会报错，解决方案：修改<code>package</code>的<code>version</code>。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! code E403</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Forbidden - PUT https://registry.npmjs.org/xxx - You cannot publish over the previously published versions: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> In most cases, you or one of your dependencies are requesting</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR! </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a package version that is forbidden by your security policy.</span></span></code></pre></div><p>8、发布带“@”开头的包时如果报 402 会提示没有权限，npm 认为你会发布私有包，私有包是需要购买的。</p><p>在<code>packages.json</code>设置<code>&quot;private&quot;: false</code>，且发布时使用命令<code>npm publish --access public</code>表明是发布公有包。</p><p>注意：<code>packages.json</code>中<code>&quot;name&quot;: &quot;@用户名/包名&quot;</code>用户名不能随便填，只能填当前登录的用户名。使用<code>npm whoami</code>查看当前登录的用户名。</p>`,16),t=[e];function o(l,h,d,r,c,k){return i(),a("div",null,t)}const u=s(n,[["render",o]]);export{g as __pageData,u as default};
