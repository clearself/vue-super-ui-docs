import{aF as e,e as s,f as a,V as i}from"./chunks/framework.54wzUQT-.js";const E=JSON.parse('{"title":"API 访问第三方图片 403 的解决方案","description":"","frontmatter":{},"headers":[],"relativePath":"docs/文章/前端/API访问第三方图片403的解决方案.md","filePath":"docs/文章/前端/API访问第三方图片403的解决方案.md","lastUpdated":1716277301000}'),t={name:"docs/文章/前端/API访问第三方图片403的解决方案.md"},r=i(`<h1 id="api-访问第三方图片-403-的解决方案" tabindex="-1">API 访问第三方图片 403 的解决方案 <a class="header-anchor" href="#api-访问第三方图片-403-的解决方案" aria-label="Permalink to &quot;API 访问第三方图片 403 的解决方案&quot;">​</a></h1><ul><li><p>例如在 api 中调用豆瓣的图片时可以正常拿到，但是在浏览器中 img 就是 403 了。</p></li><li><p>一般的图片进制访问都是通过 referrer 判断，那我们发送不带 referrer 的请求不就好了嘛。</p></li><li><p>但是在浏览器中不给设置请求头<code>referrer=&#39;&#39;</code>，当然也可以使用后端请求转发来实现，但代价太大。</p></li></ul><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h2><ul><li>通过设置<code>referrerpolicy</code>属性来取消请求头中的<code>referrer</code>。但是你需要考虑<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7" target="_blank" rel="noreferrer">兼容性</a>，基本上 chrome 内核的都是能正常使用的。</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">img</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://xxx.com/xxx.jpg&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  referrerpolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;never&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span></code></pre></div>`,5),l=[r];function n(p,o,h,c,d,_){return s(),a("div",null,l)}const g=e(t,[["render",n]]);export{E as __pageData,g as default};
